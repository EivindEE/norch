<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Norch by fergiemcdowall</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Norch</h1>
        <p>Norch is an experimental search engine based on Node.js and LevelDB</p>

        <p class="view"><a href="https://github.com/fergiemcdowall/Norch">View the Project on GitHub <small>fergiemcdowall/Norch</small></a></p>


        <ul>
          <li><a href="https://github.com/fergiemcdowall/Norch/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/fergiemcdowall/Norch/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/fergiemcdowall/Norch">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="norch" class="anchor" href="#norch"><span class="octicon octicon-link"></span></a>Norch</h1>

<p>Norch is an experimental search engine built with Node.js and LevelDB. The name Norch is a contraction of " <strong>No</strong> de Sea <strong>rch</strong> "</p>

<h3>
<a name="homepage" class="anchor" href="#homepage"><span class="octicon octicon-link"></span></a>Homepage</h3>

<p><a href="http://fergiemcdowall.github.io/Norch">http://fergiemcdowall.github.io/Norch</a> </p>

<h3>
<a name="download" class="anchor" href="#download"><span class="octicon octicon-link"></span></a>Download</h3>

<p>Currently Norch is best obtained using Git. Run the following command to clone the git repository for Norch:</p>

<pre><code>git clone https://github.com/fergiemcdowall/Norch
</code></pre>

<h3>
<a name="installing-norch" class="anchor" href="#installing-norch"><span class="octicon octicon-link"></span></a>Installing Norch</h3>

<p>Norch has 2 dependencies- Node.js and npm (Node Package Manager). Given that these are both installed Norch can be installed by running the following command which will download and install all dependencies:</p>

<pre><code>npm install
</code></pre>

<p>If everything went to plan- Norch chould now be installed on your machine.</p>

<h2>
<a name="operation" class="anchor" href="#operation"><span class="octicon octicon-link"></span></a>Operation</h2>

<h3>
<a name="start-your-norch-server" class="anchor" href="#start-your-norch-server"><span class="octicon octicon-link"></span></a>Start your Norch server</h3>

<p>Navigate to the directory where you installed Norch and type</p>

<pre><code>node norch-server
</code></pre>

<p>W00t! Norch is now running locally on your machine. The default port of 3000 can be modified if required.</p>

<h2>
<a name="indexing" class="anchor" href="#indexing"><span class="octicon octicon-link"></span></a>Indexing</h2>

<p>Once you have set up Norch, you can get some content into it. Norch comes with some test data in the directory "testdata"</p>

<p>cd into the directory "testdata" and run the following command to index 1000 documents of the reuters test data set (note that one data file can contain an arbitralily large number of documents)</p>

<pre><code>curl --form document=@reuters-000.json http://localhost:3000/indexer
</code></pre>

<p>Norch indexes data that is in the format</p>

<div class="highlight"><pre><span class="p">{</span>
    <span class="s1">'doc1'</span><span class="o">:</span><span class="p">{</span><span class="s1">'title'</span><span class="o">:</span><span class="s1">'A really interesting document'</span><span class="p">,</span>
            <span class="s1">'body'</span><span class="o">:</span><span class="s1">'This is a really interesting document'</span><span class="p">},</span>
    <span class="s1">'doc2'</span><span class="o">:</span><span class="p">{</span><span class="s1">'title'</span><span class="o">:</span><span class="s1">'Another interesting document'</span><span class="p">,</span>
            <span class="s1">'body'</span><span class="o">:</span><span class="s1">'This is another really interesting document that is a bit different'</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>

<h2>
<a name="searching" class="anchor" href="#searching"><span class="octicon octicon-link"></span></a>Searching</h2>

<p>Search is available on <a href="http://localhost.com:3000/search">http://localhost.com:3000/search</a></p>

<h2>
<a name="search-parameters" class="anchor" href="#search-parameters"><span class="octicon octicon-link"></span></a>Search parameters</h2>

<h3>
<a name="q" class="anchor" href="#q"><span class="octicon octicon-link"></span></a>q</h3>

<p><strong>(Required)</strong> For "query". The search term.</p>

<p>Usage:</p>

<pre><code>q=&lt;query term&gt;
</code></pre>

<p><a href="http://localhost:3000/search?q=moscow">http://localhost:3000/search?q=moscow</a></p>

<h3>
<a name="facets" class="anchor" href="#facets"><span class="octicon octicon-link"></span></a>facets</h3>

<p><strong>(Optional)</strong> For "facet". The fields that will be used to create faceted navigation</p>

<p>Usage:</p>

<pre><code>facets=&lt;field to facet on&gt;
</code></pre>

<p><a href="http://localhost:3000/search?q=moscow&amp;facets=topics">http://localhost:3000/search?q=moscow&amp;facets=topics</a></p>

<h3>
<a name="filter" class="anchor" href="#filter"><span class="octicon octicon-link"></span></a>filter</h3>

<p><strong>(Optional)</strong> For "filter". Use this option to limit your search to the given field</p>

<p>Usage:</p>

<pre><code>filter=&lt;field to filter on&gt;
</code></pre>

<p><a href="http://localhost:3000/search?q=moscow&amp;facets=topicss&amp;filter=topics:grain">http://localhost:3000/search?q=moscow&amp;facets=topicss&amp;filter=topics:grain</a></p>

<p>Multiple filters:</p>

<p><a href="http://localhost:3000/search?q=oil&amp;f=places,topics,organisations&amp;filter=topics:plywood,crude;places:indonesia">http://localhost:3000/search?q=oil&amp;f=places,topics,organisations&amp;filter=topics:plywood,crude;places:indonesia</a></p>

<h3>
<a name="offset" class="anchor" href="#offset"><span class="octicon octicon-link"></span></a>offset</h3>

<p><strong>(Optional)</strong> The index in the resultSet that the server
  returns. Userful for paging.</p>

<p>Usage:</p>

<pre><code>offset=&lt;start index&gt;
</code></pre>

<p><a href="http://localhost:3000/search?q=moscow&amp;facets=topicss&amp;filter=topics:grain&amp;offset=5">http://localhost:3000/search?q=moscow&amp;facets=topicss&amp;filter=topics:grain&amp;offset=5</a></p>

<h3>
<a name="pagesize" class="anchor" href="#pagesize"><span class="octicon octicon-link"></span></a>pagesize</h3>

<p><strong>(Optional)</strong> defines the size of the resultset (defaults to 20)</p>

<p>Usage:</p>

<pre><code>pagesize=&lt;size of resultset&gt;
</code></pre>

<p><a href="http://localhost:3000/search?q=moscow&amp;facets=topicss&amp;filter=topics:grain&amp;offset=5&amp;pagesize=5">http://localhost:3000/search?q=moscow&amp;facets=topicss&amp;filter=topics:grain&amp;offset=5&amp;pagesize=5</a></p>

<h3>
<a name="weight" class="anchor" href="#weight"><span class="octicon octicon-link"></span></a>weight</h3>

<p><strong>(Optional)</strong> For "weight". Use this option to tune relevancy by assigning weight to given fields. Weights can be arbitralily large.</p>

<p>Usage:</p>

<pre><code>weight=&lt;field name&gt;:&lt;weight (factor)&gt;
</code></pre>

<p><a href="http://localhost:3000/search?q=moscow&amp;facets=topicss&amp;filter=topics:grain&amp;weight=title:10">http://localhost:3000/search?q=moscow&amp;facets=topicss&amp;filter=topics:grain&amp;weight=title:10</a></p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/fergiemcdowall">fergiemcdowall</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-42218858-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>